##### IMPORTANT INFORMATION #####
##### DO NOT MODIFY THIS FILE #####
##### MAKE A COPY OF THIS FILE AND CUSTOMIZE #####

########## Parameter configuration templates for pre-loading ##########

preload    :
                                # Information on pre-loadable template

    template    : null
                                # String specifying full path to
                                # YAML file containing simulation
                                # parameters to pre-load. If set,
                                # simulation parameters from that
                                # file will be loaded as default,
                                # and any parameters specified below
                                # will be used to change the default
                                # values. If set to null, no simulation
                                # parameters will be pre-loaded. All 
                                # the parameters must be specified 
                                # below and those will be used

########## Directory Structure information #########

dirstruct:
                                # Directory information

    rootdir     : '/data3/t_nithyanandan/'
                                # Base directory

    project     : 'prisim_test'
                                # Directory for the project under
                                # rootdir. Will be created if it
                                # does not exist

    simid       : null
                                # Simulation ID type. Creates a
                                # folder to store results of
                                # simulation. Accepted values
                                # are null (current GMT
                                # at the start of simulation),
                                # or any string representing custom
                                # (user defined) ID

########## Telescope information ##########

telescope:

    label_prefix    : ''

    id              : 'custom'
                                # Accepts 'mwa', 'vla', 'gmrt', 
                                # 'ugmrt', 'hera', 'mwa_dipole', 
                                # 'custom', 'paper', 'mwa_tools',
                                # 'hirax'

    latitude        : -30.7224
                                # Latitude in degrees
                                # -26.701 for MWA,
                                # -30.7224 for HERA, PAPER
                                # 34.079 for VLA,
                                # 19.0965 for GMRT
                                # -26.82472208 for SKA low
                                # -25.887222 for HIRAX,
                                # +49.321111 for CHIME

    longitude       : +21.4278
                                # Longitude of observatory (in degrees)
                                # Default (null) implies 0.0 degrees
                                # corresponding to GMT.
                                # -107.6184 for VLA, +116.670815 for 
                                # MWA, +21.4278 for PAPER and HERA,
                                # +74.0497 for GMRT,
                                # +116.7644482 for SKA-Low
                                # +27.684722 for HIRAX, 119.623889
                                # for CHIME

    altitude        : 0.0
                                # Specify altitude in meters.
                                # Default = 0. 545m for CHIME

    A_eff           : 154
                                # Geometric area of antenna element
                                # in m^2. The effective area will
                                # be A_eff * eff_aprtr

    eff_aprtr       : 0.65
                                # Aperture efficiency. The effective 
                                # area will be A_eff * eff_aprtr

    eff_Q           : 0.96
                                # Quantization efficiency

    Trx             : 50.0
                                # Receiver temperature (in K)

    Tant_freqref    : 150000000.0
                                # Reference frequency (in Hz) for
                                # antenna temperature

    Tant_spindex    : -2.55
                                # Spectral index for antenna
                                # temperature

    Tant_ref        : 200.0
                                # Antenna temperature at reference
                                # frequency
                                # Tsys = Trx + Tant * (f/f0)^alpha

    Tsys            : null
                                # System temperature (in K)

########## Antenna layout #########

array   :                       # Parameters 'file' and 'layout'
                                # below are mutually exclusive

    redundant       : true
                                # Indicates if redundancy is present.
                                # If true (default), unique baselines
                                # will be evaluated and used to
                                # compute visibilities. If set to
                                # false, all baselines whether
                                # redundant or not will be used in
                                # the simulation. Set to false only
                                # if the array is definitely
                                # non-redundant in which case it
                                # may save a little time as it does
                                # not have to compute the unique
                                # baselines

    layout          : 'HERA-19'
                                # Accepted values are 'MWA-128T',
                                # 'HERA-7', 'HERA-19', 'HERA-37',
                                # 'HERA-61', 'HERA-91', 'HERA-127',
                                # 'HERA-169', 'HERA-217', 'HERA-271',
                                # 'HERA-331', 'PAPER-64', 'PAPER-112',
                                # 'HIRAX-1024', 'CHIME', 'CIRC', or
                                # null

    file            : null
                                # File containing antenna locations
                                # parsed according to info in
                                # parser

    filepathtype    : 'default'
                                # If set to 'default', only filename
                                # should be specified in file and it
                                # will be searched in the default 
                                # array_layouts folder
                                # prisim/data/array_layouts
                                # If set to 'custom' then the full path
                                # to the file must be specified

    parser :
                                # Will be used for parsing the file
                                # if file is specified for array
                                # layout

        comment     : null
                                # Regular expression defining a comment
                                # line in table. Default = null ('#')

        delimiter   : null
                                # Delimiter string. Accepted values
                                # are whitespace (default or null), ','
                                # and '|'

        data_start  : 3
                                # Line index for the start of data
                                # not counting comment or blank
                                # lines. A line with only whitespace
                                # is considered blank. It is required.
                                # No defaults. Indexing starts from 0

        data_end    : null
                                # Line index for the end of data not
                                # counting comment or blank lines.
                                # This value can be negative to count
                                # from the end. Default is null (all
                                # the way to end of file). Indexing
                                # starts from 0.

        header_start: 0
                                # Line index for the header line not
                                # counting comment or blank lines. A
                                # line with only whitespace is
                                # considered blank. Must be provided.
                                # No defaults

        label       : null
                                # String in the header containing
                                # antenna labels. If set to null
                                # (default), antenna labels will be
                                # automatically assigned. e.g. of
                                # some accepted values are null,
                                # 'label', 'id', 'antid', etc. This
                                # must be found in the header

        east        : 'East'
                                # String specifying East coordinates
                                # in the header and data. Must be
                                # provided. No defaults.

        north       : 'North'
                                # String specifying North coordinates
                                # in the header and data. Must be
                                # provided. No defaults.

        up          : 'Up'
                                # String specifying elevation
                                # coordinates in the header and data.
                                # Must be provided. No defaults.

    minR            : 141.0
                                # Minimum radius of circular ring.
                                # Applies only when layout = 'CIRC'

    maxR            : 141.0
                                # Maximum radius of circular ring.
                                # Applies only when layout = 'CIRC'

    rms_tgtplane    : 0.0
                                # Perturbation of antenna positions
                                # (in m) in tangent plane.
                                # Default=0.0

    rms_elevation   : 0.0
                                # Perturbation of antenna positions
                                # (in m) in perpendicular to tangent
                                # plane. Default=0.0

    seed            : 200
                                # Random number seed for antenna
                                # position perturbations.
                                # Default=null means no fixed seed

########## Baseline Selection #########

baseline :                      # Parameters specifying baseline
                                # selection criteria

    min             : null
                                # Minimum baseline in distance
                                # units (m). Default = 0 (null)

    max             : null
                                # Maximum baseline in distance
                                # units (m). Default = max (null)

    direction       : null
                                # Default = null (all directions).
                                # Other accepted values are 'E' (east)
                                # 'SE' (south-east), 'NE' (north-east),
                                # and 'N' (north). Multiple values from
                                # this accepted list can be specified
                                # as a list of strings.
                                # e.g., ['N', 'E'], ['NE', 'SE', 'E'],
                                # ['SE', 'E', 'NE', 'N'] which is
                                # equivalent to null, etc.

########## Antenna Element information #########                      

antenna  :

    shape           : 'dish'      
                                # Shape of antenna element
                                # Accepted values are 'dish', 'dipole',
                                # 'gaussian', and 'delta' or null 
                                # (defaults to 'delta')

    size            : 14.0
                                # Size of antenna element (in m)
                                # diameter for dish, FWHM for
                                # gaussian, linear size for
                                # dipole
                    
    orientation     : [90.0, 270.0]
                                # Orientation of antenna element
                                # Applicable in case of dipoles
                                # Coordinate system as specified in
                                # key 'ocoords'. Must contain two
                                # elements for Alt and Az if 'ocoords'
                                # is set to 'altaz' or l and m if
                                # 'ocoords' is set to 'dircos'
                                # [Alt, Az] in degrees (altaz) or
                                # [l,m] (dircos)
                    
    ocoords         : 'altaz'
                                # Coordinate system describing the
                                # orientation of antenna element.
                                # Accepted values are 'altaz', 'dircos'
                    
    phased_array    : false
                                # If true, the antenna is a phased
                                # array of antenna elements and
                                # phased array parameters specified
                                # below are used.
                                # Default = false
                    
    ground_plane    : null
                                # Ground plane height (in m). Default
                                # (null) means no ground plane

########## Phased array parameters #########

phasedarray:

    file            : 'MWA_tile_dipole_locations.txt'
                                # File containing phased array elements
                                # locations

    filepathtype    : 'default'
                                # If set to 'default', only filename
                                # should be specified in file and it
                                # will be searched in the default 
                                # phasedarray_layouts folder
                                # prisim/data/phasedarray_layouts
                                # If set to 'custom' then the full path
                                # to the file must be specified

    delayerr        : 0.0
                                # Delay error rms (in ns). null means
                                # delayerr is not applicable

    gainerr         : 0.0
                                # Gain error rms in dB. null means
                                # gainerr is not applicable

    nrand           : 1
                                # Number of random realizations to
                                # average. null means gainerr and 
                                # delayerr are not applicable

########## Beam specifications #########

beam    :

    use_external    : false
                                # If true, use an externally specified
                                # antenna beam. If false, determine
                                # analytically from antenna aperture
                                # specifications

    file            : 'NF_HERA_antenna_power_pattern_99-201_MHz_nside_128.uvbeam'

                                # FITS file containing the external
                                # antenna beam. Used only if
                                # use_external is set to true.
                                # Specify only filename if filepathtype
                                # is set to 'default', otherwise 
                                # specify full path to the file. A 
                                # format specification for the file 
                                # contents is under development

    filepathtype    : 'default'
                                # If set to 'default', only filename
                                # should be specified in file and it
                                # will be searched in the default beams
                                # folder prisim/data/beams/
                                # If set to 'custom' then the full path
                                # to the file must be specified

    filefmt         : 'UVBeam'
                                # File format for external beam file.
                                # Accepted values are 'HDF5', 'FITS',
                                # and 'UVBeam' (pyuvdata UVBeam object)

    identifier      : 'NF-128'
                                # string to identify source of beam
                                # Any string. e.g. RB=Rich Bradley,
                                # AN=Abraham Neben, DD=Dave DeBoer,
                                # 'HERA-CST', NF=Nic Fagnoni, etc.

    pol             : 'X'
                                # Beam polarization. Accepted values
                                # are 'X' and 'Y', or 'P1' and 'P2'

    chromatic       : true
                                # if false, the beam is the same at
                                # all frequencies and the beam at
                                # reference frequency will be used for
                                # all frequencies. if true, beam
                                # scales with frequency

    select_freq     : 150000000.0
                                # Frequency (Hz) to use for beam in 
                                # case of achromatic usage of the beam
                                # If set to null (default), it defaults
                                # to using value defined in freq

    spec_interp     : 'cubic'
                                # method to interpolate external beam
                                # along spectral (frequency) direction.
                                # allowed values are 'fft' (default),
                                # 'linear', 'bilinear' or 'cubic'.
                                # Applies only if chromatic is set to
                                # True

########## Bandpass setup ##########

bandpass :

    freq            : 150000000.0
                                # Center frequency (in Hz)
                                # 167.05 MHz for Adam Lidz's cube

    freq_resolution : 390625.0
                                # Frequency resolution (in Hz)
                                # 80 kHz for Adam Lidz's cube

    nchan           : 256
                                # Number of channels
                                # 704 for Adam Lidz's cube

    pfb_method      : null 
                                # PFB method to be used. Default (null)
                                # means no use of PFB. Other accepted
                                # values are 'theoretical' and
                                # 'empirical'

    pfb_filepath    : 'default'
                                # Can be set to 'default' or 'custom'.
                                # If set to 'relative' the pfb_file is
                                # located in the PRIRim package
                                # data/bandpass directory. If set to
                                # 'custom' then the full path is
                                # specified in pfb_file

    pfb_file        : 'MWA_pfb_512x8.fits'
                                # File containing PFB coefficients.
                                # Applicable only is pfb_method is
                                # set to non-null value. If 
                                # pfb_filepath is set to 'default' 
                                # specify only the filename and it 
                                # will be located in the default 
                                # folder under the PRISim package, 
                                # namely, data/bandpass but if 
                                # pfb_filepath is set to 'custom'
                                # then the full path must be specified
                                # Just filename assuming default 
                                # relative path or full path to
                                # filename like '/path/to/PFBfile'

########## Observation setup ##########

obsparm  :

    obs_date        : '2015/11/23'
                                # Observation start date yyyy/mm/dd

    obs_mode        : 'drift'  
                                # Observing mode. Accepted values are
                                # 'drift', 'track', 'dns', 'lstbin', 
                                # and 'custom' or null (default)

    t_obs           : null      
                                # Duration of observation (in seconds)
                                # Only two of t_obs, n_acc, t_acc
                                # must be set

    n_acc           : 2
                                # Number of accumulations. Only two of
                                # t_obs, n_acc, and t_acc must be set

    t_acc           : 1080.0
                                # Accumulation time (in seconds) for
                                # each snapshot. Only two of t_obs,
                                # n_acc, and t_acc must be set

######### Instrument gains #########

gains   :
                                # Instrumental gains to be applied to
                                # the simulated visibilities

    file            : null 
                                # HDF5 File containing complex 
                                # instrument gains to be applied or
                                # stored in the simulation. It should
                                # contain two groups, one for antenna
                                # gains and the other for baseline-
                                # based gains. If set to null, unity
                                # gains assumed

    filepathtype    : 'default'
                                # If set to 'default', only filename
                                # should be specified in file and it
                                # will be searched in the default 
                                # instrument_gains folder
                                # prisim/data/gains
                                # If set to 'custom' then the full path
                                # to the file must be specified
                                
######### Pointing information #########

pointing :                      # If pointing file is specified to be
                                # non-null, other parameters like
                                # drift_init and track_init are ignored

    file            : null
                                # Full path to file containing pointing
                                # information. Only one of 'file' or
                                # 'initial' must be specified.
                                # for MWA format, see example in
                                # 'examples/scheduler/MWA_Aug23_obs_scheduler.txt'
                                # Formats for other telescopes under
                                # development

    jd_init         : null
                                # initialize start of observation with
                                # JD. If not set to null, obs_date and 
                                # lst_init are ignored in scheduling the
                                # observation. They will be determined
                                # automatically

    lst_init        : 0.0
                                # LST at start of observation (hours).
                                # The epoch is assumed to be the date 
                                # of observation. If set to null, jd_init
                                # must be provided. Otherwise, both
                                # lst_init and obs_date must be set

    drift_init      :
                                # Applies in case of initializing 
                                # pointing information for drift scan
                                # mode

        alt             : null
                                # Altitude of telescope pointing
                                # (degrees)

        az              : null
                                # Azimuth of telescope pointing
                                # (degrees)

        ha              : 0.0
                                # Hour angle of telescope pointing
                                # (degrees). Only one of the Alt-Az or
                                # HA-Dec pairs must be specified and 
                                # the other pair must be set to null

        dec             : -30.7224
                                # Declination of telescope pointing
                                # (degrees). Only one of the Alt-Az or
                                # HA-Dec pairs must be specified and 
                                # the other pair must be set to null

    track_init :

        ra          : 0.0
                                # RA of sky position to track (degrees)

        dec         : -30.7224
                                # Declination of sky position to track
                                # (degrees)

        ha          : 0.0
                                # Hour angle (degrees) at start of
                                # observation. 

        epoch       : '2000'
                                # Epoch in which the RA of the sky
                                # position to track is specified

######### Phase center information #########

phasing :                       # Phase center parameters

    center          : [90.0, 270.0]
                                # Phase center in coordinate system
                                # in coords below. Must be 3-elements
                                # if coordinate system is set to
                                # 'dircos'. Otherwise two elements
                                # as [ra, dec], [ha, dec], [alt, az]

    coords          : 'altaz'
                                # Coordinate system for specifying
                                # phase center. Accepted values are
                                # 'altaz', 'hadec', 'radec', and
                                # 'dircos'

######### Snapshot selection ##########

snapshot :                      # Parameters below are mutually
                                # exclusive. Only one of them can be
                                # set to True or non-null values

    avg_drifts      : false
                                # Consider durations equal to the
                                # drift duration before pointing
                                # changes

    beam_switch     : false
                                # Consider snapshots only at beam
                                # switches if set to true (applicable 
                                # only if obs_mode is set to 'dns').
                                # Default = false

    pick            : null
                                # Consider only these snapshots. Can
                                # be a list or null (default)

    range           : null
                                # Consider snapshots between these
                                # indices. Must be a two element list
                                # or null (default)

    all             : true
                                # Consider all snapshots if set to
                                # true. Default = false

######### Sky model ##########

skyparm   :

    model           : 'csm'
                                # Foreground model. Accepted values
                                # are 'csm' (NVSS+SUMSS point sources), 
                                # 'dsm' (diffuse emission), 'asm' (both
                                # point sources and diffuse emission),
                                # 'gsm2008' and 'gsm2016' (from PyGSM),
                                # 'sumss' (SUMSS catalog), nvss (NVSS
                                # catalog), 'mss' (Molonglo Sky 
                                # Survey), 'gleam' (GLEAM catalog), 
                                # 'custom' (user-defined catalog), 
                                # 'usm' (uniform sky model), 'noise'
                                # (noise-like sky model), 'mwacs' 
                                # (MWACS catalog), 'skymod_file' (a
                                # skymodel_file must be specified 
                                # below), 'HI_monopole' (global EoR), 
                                # HI_cube, (HI cube from external 
                                # simulations), and 'HI_fluctuations' 
                                # (HI fluctuations with the global 
                                # mean signal removed)

    fsky            : null
                                # fraction of sky covered by the sky
                                # model. This is only to determine
                                # memory requirements and allocation.
                                # If this is unknown, set it to null
                                # and it will be conservatively assumed
                                # that all of the sky model will be
                                # utilized in every simulation. If it
                                # is known to be an all-sky model, set
                                # it to 1.0. Values between 0.0 and 1.0
                                # are accepted. At each instant of the
                                # simulation, only roughly half of the
                                # can be involved at most

    epoch           : '2000'
                                # Epoch of the coordinates of the
                                # foreground model or EoR signal

    nside           : null
                                # Healpix nside parameter for 
                                # foreground model input map. Accepted 
                                # values must be HEALPIX compatible

    n_mdl_freqs     : 8
                                # Number of model frequencies covering
                                # the frequency range if sky model is
                                # set to 'gsm2008' or 'gsm2016'. If set 
                                # to null it will be set equal to the
                                # nchan (number of frequency channels)
                                # specified under bandpass parameters.
                                # Default = 8. It is strongly advised
                                # not to set to null as it may be very
                                # expensive computationally unless
                                # there are strong reasons for it

    parallel        : false
                                # Specifies if sky model when set to
                                # 'gsm2008' or 'gsm2016' must be
                                # computed in parallel. By default, it
                                # is set to False as no significant
                                # improvement was found when
                                # parallelized

    flux_unit       : 'K'
                                # Units of flux or flux density.
                                # Accepted values are 'K' for
                                # temperature in K or 'Jy' for flux
                                # density in Jy

    custom_reffreq  : 0.150
                                # Catalog reference frequency (in GHz).
                                # Applies only to custom catalog when
                                # sky model is set to 'custom', or
                                # GLEAM to pick the nearest frequency

    flux_min        : 10.0
                                # Flux density lower limit (Jy) to be 
                                # applied to 'csm', 'mwacs', 'gleam',
                                # and 'custom' catalogs. If set to
                                # null, source with lowest flux
                                # density in the catalog is
                                # simulated. This parameter does not
                                # apply to diffuse model. The
                                # reference frequency is specified in
                                # fluxcut_reffreq

    flux_max        : null
                                # Flux density upper limit (Jy) to be 
                                # applied to 'csm', 'mwacs', 'gleam',
                                # and 'custom' catalogs. If set to
                                # null, source with lowest flux
                                # density in the catalog is
                                # simulated. This parameter does not
                                # apply to diffuse model. The
                                # reference frequency is specified in
                                # fluxcut_reffreq
                                
    fluxcut_reffreq : null
                                # The reference frequency at which
                                # the flux thresholds are applicable.
                                # If set to null, it will default to
                                # 'freq' parameter in bandpass setup

    spindex         : -0.83
                                # Default spectral index to use if
                                # none is found in catalog

    spindex_rms     : 0.0
                                # rms in distribution of spectral
                                # indices

    spindex_seed    : null
                                # Random seed for generation of random
                                # spectral indices

    roi_radius      : null
                                # Radius around the pointing center
                                # (in degrees) which determines the  
                                # sky model. If set to null (default),
                                # roi_radius will be assumed to be
                                # 90 degrees

    lidz            : true
                                # Use simulations of Adam Lidz. Only
                                # one of lidz or 21cmfast can be set
                                # to true

    21cmfast        : false
                                # Use 21CMFAST simulations of Andrei
                                # Mesinger. Only one of lidz or
                                # 21cmfast can be set to true

    global_EoR_parms: [0.027, 150e6, 1.0] 
                                # Parameters defining the global EoR
                                # signal. 3-element list with elements
                                # in the following order: T_spin
                                # amplitude (in K), frequency at
                                # x_i=0.5, and characteristic redshift
                                # width for tanh() function
                               
######### Foreground Catalogs #########

catalog  :

    filepathtype    : 'default'
                                # Type of file path. Can be set to
                                # 'default' or 'custom'. If set to
                                # 'default', only catalog filename
                                # must be specified and the catalog
                                # file will be searched in the default
                                # package data folder
                                # prisim/data/catalogs. If set to
                                # 'custom', the full path to the
                                # catalog file must be specified

    DSM_file_prefix : 'gsmdata'
                      # '/path/to/gsmdata'
                                # Diffuse Sky Model map file name
                                # prefix

    spectrum_file   : '/data3/t_nithyanandan/project_abscal/newGSM.hdf5'
                      # '/path/to/newDSMcatalog.hdf5'
                                # full spectrum catalog file

    SUMSS_file      : 'sumsscat.Mar-11-2008.txt'
                      # '/path/to/SUMSScatalogFile.txt'
                                # SUMSS catalog file

    NVSS_file       : 'NVSS_catalog.fits'
                      # '/path/to/NVSScatalogFile.fits'
                                # NVSS catalog file

    MWACS_file      : 'mwacs_b1_131016.csv'
                      # '/path/to/MWACScatalogFile.csv'
                                # MWACS catalog file

    GLEAM_file      : 'GLEAM_EGC_v2.fits'
                      # '/path/to/GLEAMcatalogFile.fits'
                                # GLEAM catalog file

    custom_file     : 'custom_catalog.txt'
                      # '/path/to/custom_catalog.txt'
                                # User defined catalog. See
                                # prisim/data/catalogs/custom_catalog.txt
                                # for file format

    skymod_file     : '/path/to/skymodel.hdf5'
                                # User defined skymodel file in HDF5
                                # format that can be read in as an
                                # instance of class SkyModel. 

########## Processing setup ##########

processing:

    gradient_mode   : null
                                # If set to null (default), simulate
                                # visibilities as usual. Otherwise,
                                # estimate visibility gradients as a
                                # function of variations of quantities
                                # as specified in the string as well
                                # the usual visibilities.
                                # Currently accepted value is
                                # 'baseline'. Plan to also add options
                                # for 'skypos' and 'frequency'

    memuse          : null
                                # Total memory (GB) not to be exceeded
                                # by all processes put together. If
                                # to null (default) or if it exceeds
                                # 90% of the available memory at the
                                # start of the simulation, it will be
                                # dynamically set to 90% of
                                # available memory in the system

    memavail        : null
                                # Memory available (in GB). If set to
                                # null, it will be read on the compute
                                # node during runtime. If the job is
                                # distributed over multiple nodes such
                                # as in PBS scripts, it is best to
                                # provide this explicitly (not set to
                                # null)

    n_bins_blo      : 4
                                # Number of bins in baseline
                                # orientation

    n_sky_sectors   : 1
                                # Number of sky sectors.
                                # Produces this many seperate outputs 
                                # one for each sky sector

    bpass_shape     : 'bhw'
                                # Bandpass shape for tapering window
                                # before delay transform. Accepted 
                                # values are 'rect' (rectangular), 
                                # 'bnw' (Blackman-Nuttall window), and 
                                # 'bhw' (Blackman-Harris window)

    ant_bpass_file  : null
                                # '/data3/t_nithyanandan/project_HERA/newGainfiltered.npz'
                                # '/data3/t_nithyanandan/project_HERA/specGainfiltered.npz'
                                # '/data3/t_nithyanandan/project_HERA/steepGainfiltered.npz'                                
                                # Antenna bandpass file (.npz) which 
                                # will be stored in multiplication to 
                                # that specified in bpass_shape
                                
    f_pad           : 1.0
                                # frequency padding fraction for
                                # delay transform

    coarse_channel_width : 16
                                # Coarse channel width in number of
                                # fine channels. Used only if PFB 
                                # (MWA-like passband) settings are to
                                # be used. 

    bp_correct      : true
                                # Correct bandpass shape if set to
                                # true. Do not correct if set to
                                # false. In other words, false 
                                # applies the passband, true gives
                                # a flat passband

    noise_bp_correct: false
                                # Bandpass correction for Tsys if
                                # set to true, no correction if set
                                # to false

    n_pad           : 0
                                # Bandpass window padding length.
                                # Will be applied only if f_pad is
                                # not set

    max_abs_delay   : 1.0
                                # Maximum delay (in micro-seconds)
                                # above which will be considered
                                # thermal noise window. Keep this
                                # value below 0.5/freq_resolution

    delay_transform : false
                                # if true, compute delay transform

    memsave         : false
                                # Parameter to save memory. If set
                                # to true use single precision, if
                                # false, use double precision

    store_prev_sky  : true
                                # If true (default), store spectrum 
                                # from one time iteration and compute
                                # spectrum from only new sources in
                                # the next iteration. If set to false,
                                # compute spectrum of all sources in
                                # field of view in each iteration

    cleanup         : 3
                                # Level of cleanup [0-3]. If set to 
                                # 0, no cleanup is performed and even
                                # intermediate files are saved. If
                                # set to 1, all intermediate files
                                # are removed. If set to 2, the
                                # ROI folder (which can be heavy in
                                # some cases) will also be removed.
                                # If set to 3, the skymodel folder
                                # will also be removed. This is 
                                # inversely related to interest in
                                # detailed diagnostics. The more the
                                # interest, lesser is the cleanup
                                # parameter value

########## Parallel processing setup #########

pp       :

    key             : 'freq'
                                # Split the data by 'bl' (baselines),
                                # 'src' (sources) or 'freq' 
                                # (frequency), for parallel processing

    eqvol           : true
                                # if set to true, load is split equally
                                # between the parallel processes. If
                                # set to false, load may be split
                                # unevenly across processes as and when
                                # a process becomes free

    method          : 'pool'
                                # method used in parallel processing.
                                # Accepted values are 'pool' and
                                # 'queue'

########## Frequency flagging ##########

flags    :

    flag_chan       : -1
                                # list of specific frequency channels
                                # to be flagged. -1 means no specific
                                # channels to be flagged

    bp_flag_repeat  : false
                                # If set to true, repeat flag_chan
                                # for every coarse channel periodically

    n_edge_flag     : [0, 0]
                                # Flag edge channels in the band. Two
                                # element list. First and second
                                # elements are number of channels
                                # leading and trailing the coarse
                                # channel edges respectively

    flag_repeat_edge_channels: false
                                # If set to true, repeat the flagged
                                # edge channels periodically for every
                                # coarse channels. Do not repeat if
                                # set to false

########## Save details ##########

save_redundant  : true
                                # If set to true, in case of redundant
                                # array, expand and save all 
                                # visibilities including redundant
                                # values, otherwise only unique values
                                # are saved

save_formats    :

    fmt             : 'HDF5'
                                # File format for the final saved data
                                # Accepted values are 'HDF5' (default) 
                                # and 'FITS' (not supported or
                                # developed any more)

    npz             : true
                                # If true, save to numpy NPZ format

    uvfits          : true
                                # If true, save to UVFITS format

    uvh5            : true
                                # If true, save to UVH5 format

    uvfits_method   : null
                                # specifies method to save to UVFITS
                                # format. Accepted value are 'uvdata'
                                # (uses uvdata module in pyuvdata
                                # package), 'uvfits' (uses in-house
                                # uvfits writer) or null (default)
                                # which tries the 'uvdata' method
                                # first and if it fails, tries the
                                # 'uvfits' method

    phase_center    : null
                                # Phase center either set to null
                                # (default) in which case defaults
                                # to the pointing center of the
                                # first accumulation in 'radec' or
                                # must be set to [ra, dec] (degrees)
                                # to phase the visibilities to before
                                # writing in UVFITS format. This will
                                # apply only to UVFITS file and not
                                # to other formats saved. Hence,
                                # operates independently of phase
                                # center set earlier under phase
                                # center information and only affects
                                # the UVFITS output

########## Create plots ##########

plots       : false
                                # If true, create relevant plots

########## Diagnosis parameters ###########

diagnosis   :

    resource_monitor: false
                                # If set to true, open a new xterm
                                # to display CPU and RAM usage of
                                # parallel processed. If set to
                                # false, this display is suppressed.
                                # Set to false, if running in PRISim
                                # in batch mode.

    refresh_interval: null
                                # Refresh interval (in seconds)
                                # to monitor CPU and memory usage.
                                # If set to null (default), this
                                # will be set to 2 seconds

    wait_after_run  : true
                                # If true, keep python shell open
                                # after completing the run using
                                # set_trace() of python debugger.
                                # If false, close python shell
                                # and return to command prompt
                                # after successful completion